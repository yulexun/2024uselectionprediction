---
title: "Prediction of US election with linear model"
author: 
  - Colin Sihan Yang
  - Lexun Yu
  - Siddharth Gowda
thanks: "Code and data are available at: [https://github.com/yulexun/uselection](https://github.com/yulexun/uselection)."
date: today
date-format: long
abstract: "This paper forecast the winner of the upcoming US presidential election using “poll-of-polls” by building a linear model."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(modelsummary)
```


# Introduction {#sec-intro}



# Data {#sec-data}

## Overview


## Model

```{r}
#| include: false
#| warning: false
#| message: false

# ELECTION DATE: 11 Nov 24
# Day Kamala announced she was running: 21 July 2024
# will start looking at polling data from August

# data manipulation
clean_data <- read_csv("../data/02-analysis_data/cleaned_data.csv") %>% 
  filter(answer %in% c("Harris", "Trump", "Kennedy", "Stein"))
```

```{r}
#| label: tbl-multilinearmodel
#| tbl-cap: "Coefficents for Multilinear Regression Model"
#| echo: false
#| warning: false
#| message: false

multi_lm <- lm(pct ~ transparency_score + pollscore + sample_size + answer + days_taken_from_election, clean_data)

modelsummary(multi_lm)
```

\begin{table}[htbp]
\centering
\caption{Coefficients for Multilinear Regression Model}
\label{tbl-multilinearmodel}
\begin{tabular}{lc}
\hline
Variable & Coefficient \\
\hline
Intercept & 51.371 \\
Transparency Score & -0.218 \\
Poll Score & 0.321 \\
Sample Size & 0.000 \\
Candidate Name & Varies \\
Days from Election & Not shown \\
\hline
\end{tabular}
\end{table}

\begin{equation}
\begin{split}
\text{candidate\_percentage} = & -0.218 \times \text{transparency\_score} + 0.321 \times \text{pollscore} \\
& + 0 \times \text{sample\_size} + \text{candidate\_intercept} \times \text{candidate\_name\_vector} \\
& + 51.371
\end{split}
\end{equation}

From @tbl-multilinearmodel, candiate name is the biggest factor in terms of support. The name was added to the model to give a baseline not to show any correlation. After that, poll score and transparency score are the biggest factors. These scores are two baselines of how reliable and trustable the pollsters are. The sample size had a coefficent of zero, meaning it had no affect on the model's output.

The model also has a very high R^2 value in 0.962 Most of this can be attributed to using the canidate name (anwser) as a variable.

## Residuals

```{r}
#| label: fig-multilinearmodel
#| fig-cap: "Multilinear Regression Model Residuals"
#| echo: false
#| warning: false
#| message: false

ggplot(multi_lm, aes(x = .fitted, y = .resid, color = answer)) +
  geom_point() +
  geom_hline(yintercept = 0) +
  labs(y = "Residual", x = "Predicted Candiate Vote Percentage")


```
Based on @fig-multilinearmodel, there appears to be no patterns in the residuals. This means that a linear model like this could be appropriate. However, there does seem to be a big difference in terms of residual variability based on candidate name.


\newpage


# References


